<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; font-size: 12pt; padding: 30px; }
        h1 { text-align: center; font-size: 20pt; }
        .dossier { margin-bottom: 30px; page-break-after: always; }
        .section-title { font-size: 16pt; margin-top: 10px; }
        .label { font-weight: bold; }
        .box { border: 1px solid #ccc; padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Liste complète des dossiers médicaux</h1>

    {% for dossier in dossiers %}
    <div class="dossier">
        <h2>{{ dossier.patient.get_full_name }}</h2>
        <p><span class="label">ID :</span> {{ dossier.patient.id }}</p>
        <p><span class="label">Infirmier :</span> {{ dossier.infirmier.get_full_name }}</p>
        <p><span class="label">État :</span> {{ dossier.etat }}</p>
        <p><span class="label">Date d’entrée :</span> {{ dossier.date_entree|date:"d/m/Y" }}</p>

        <div class="box">
            <div class="section-title">Consultation</div>
            <p>{{ dossier.consultation|default:"Aucune consultation." }}</p>
        </div>
        <div class="box">
            <div class="section-title">Observations</div>
            <p>{{ dossier.observations|default:"Aucune observation." }}</p>
        </div>
    </div>
    {% endfor %}
</body>
</html>
