<!DOCTYPE html>
<html lang="fr">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vitalia - Bienvenue</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Roboto&family=Rufina:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'vitalia_app/css/planning.css' %}">
  <link href="https://cdn.syncfusion.com/ej2/25.1.35/material.css" rel="stylesheet" />
  <script src="https://cdn.syncfusion.com/ej2/25.1.35/dist/ej2.min.js"></script>
</head>
<body>

<header>
  <div class="logo">Vitalia</div>
  <nav>
    <ul>
      <li><a href="/">Accueil</a></li>
      <li><a href="/a_propos">À propos</a></li>
      <li><a href="#">Nos services</a></li>
      <li><a href="/contact">Contact</a></li>
      {% if user.is_authenticated and user.is_superuser or user.groups.first.name == "Directeur" or user.groups.first.name == "Responsable du site" %}
      <li><a href="/admin">Admin</a></li>
      {% endif %}
      {% if user.is_authenticated and user.groups.first.name != "Visiteur du site" %}
      <li><a href="{%url 'dashboard'%}">Dashboard</a></li>
      {% endif %}
      {% if user.is_authenticated %}
      <li><a href="{% url 'deconnexion' %}">Déconnexion</a></li>
      {% else %}
      <li><a href="{% url 'connexion' %}">Connexion</a></li>
      {% endif %}
    </ul>
  </nav>
</header>

<div id="schedule"></div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    ej.base.registerLicense('Ngo9BigBOggjHTQxAR8/V1NBaF1cWmhIfEx1RHxQdld5ZFRHallYTnNWUj0eQnxTdEBjXX1ecH1XRmVYUkZzW0lfZg==');

    ej.base.enableRipple(true);

    ej.schedule.Schedule.Inject(
      ej.schedule.TimelineViews,
      ej.schedule.TimelineMonth
    );

    var scheduleObj = new ej.schedule.Schedule({
      height: '550px',
      width: '100%',
      selectedDate: new Date(),
      views: ['TimelineDay', 'TimelineWeek', 'TimelineMonth'],
      group: {
        resources: ['Employes']
      },
      resources: [{
        field: 'EmployeId',
        title: 'Employé',
        name: 'Employes',
        allowMultiple: false,
        dataSource: [
          { text: 'Alice', id: 1, color: '#ffaa00' },
          { text: 'Bob', id: 2, color: '#f8a398' },
          { text: 'Charlie', id: 3, color: '#7499e1' }
        ],
        textField: 'text',
        idField: 'id',
        colorField: 'color'
      }],
      eventSettings: {
        dataSource: [
          {
            Subject: 'Consultation',
            StartTime: new Date(2025, 3, 10, 10, 0),
            EndTime: new Date(2025, 3, 10, 12, 0),
            EmployeId: 1
          },
          {
            Subject: 'Soins à domicile',
            StartTime: new Date(2025, 3, 11, 14, 0),
            EndTime: new Date(2025, 3, 11, 15, 30),
            EmployeId: 2
          },
          {
            Subject: 'Vaccination',
            StartTime: new Date(2025, 3, 12, 9, 0),
            EndTime: new Date(2025, 3, 12, 11, 0),
            EmployeId: 3
          }
        ]
      }
    });

    scheduleObj.appendTo('#schedule');
  });
</script>

<footer>
  <p>&copy; 2025 Vitalia. Tous droits réservés. Projet CY Tech.</p>
  <p><small>Conçu avec bienveillance et modernité.</small></p>
</footer>
</body>
</html>
