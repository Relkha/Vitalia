<!DOCTYPE html>
{% load static %}
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Caméra d'entrée - Surveillance</title>
    <link rel="stylesheet" href="{% static 'vitalia_app/css/surveillance.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<header class="header">
    <div class="logo">Vitalia</div>
    <nav class="nav">
        <a href="/">Accueil</a>
        <a href="/dashboard/">Dashboard</a>
        <a href="/surveillance/">Surveillance</a>
        <a href="/deconnexion/">Déconnexion</a>
    </nav>
</header>

<main class="main-content">
    <h1>Caméra d’entrée – Surveillance</h1>

    <div class="video-feed">
        Flux vidéo caméra en direct
    </div>

    <section class="capteurs">
        {% for objet in objets_connectes %}
            <div class="capteur">
                {% if objet.type == "presence_sensor" %}
                    <span class="status {% if objet.status == "actif" %}active{% else %}inactive{% endif %}"></span>
                    Présence chambre : {{ objet.status|title }}
                {% elif objet.type == "door_sensor" %}
                    <span class="status {% if objet.status == "fermée" %}closed{% else %}open{% endif %}"></span>
                    Ouverture porte : {{ objet.status|title }}
                {% elif objet.type == "air_quality_sensor" %}
                    <span class="status {% if objet.status == "bonne" %}good{% elif objet.status == "moyenne" %}moyenne{% else %}bad{% endif %}"></span>
                    Qualité de l'air : {{ objet.status|title }}
                {% elif objet.type == "thermometer" %}
                    <span class="status active"></span>
                    Température : {{ objet.status }}
                {% endif %}
            </div>
        {% empty %}
            <p>Aucun capteur trouvé pour cette chambre.</p>
        {% endfor %}
    </section>
</main>

<footer class="footer">
    &copy; 2025 Vitalia. Tous droits réservés.
</footer>

</body>
</html>
